<html>

<head> 
  <!-- Import main Annotorious script and CSS -->
  <link rel="stylesheet" href="annotorious.css" type="text/css" />
  <script src="annotorious.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
 


  <!-- Import the plugin script -->
  
  <!-- Use the API to attach and activate the plugin -->
  
  
  <script>
function myFunction() {
	var annotations = anno.getAnnotations(); 
	var obj = {
	   table: []
	};
	if (annotations.length > 0) 
	{
		var i;
		var text = ""; 
		for (i = 0; i < annotations.length; i++) { 
			obj.table.push(annotations[i]);
			text += JSON.stringify(annotations[i]) + "<br>";
		}
		var json = JSON.stringify(obj);
		document.getElementById("demo").innerHTML = text; 
		var fs = require('fs');
		fs.writeFile('myjsonfile.json', json, 'utf8', callback);
	}
	//document.getElementById("demo").innerHTML = anno.getAnnotations(); 
	anno.addHandler('onAnnotationCreated', function(annotation) {
    console.log(annotation.text);

});
}
</script>


<script>
$('#submit-btn').on('click', function(e) {
    e.preventDefault();
    if( $('#name').val() ){
        $.ajax({
            url     : 'savejson.php',
            method  : 'post',
            data    : { 'name': $('#name').val() },
            success : function( response ) {
                alert( response );
            }
        });
    }
});
</script>
  
</head>
<body> 
<p>Define a region or two and press the button to view the data that will be collected.</p>
<br>
<img id='imgOne' src="barnyardScaled.jpg" class="annotatable" />
<img id='imgOne' src="daliScaled.jpg" class="annotatable" />
<img id='imgOne' src="runawayScaled.jpg" class="annotatable" />
<img id='imgOne' src="nighthawksScaled.jpg" class="annotatable" />
<img id='imgOne' src="stilllifeScaled.jpg" class="annotatable" />
<img id='imgOne' src="giraffesScaled.jpg" class="annotatable" />
<img id='imgOne' src="mondrianScaled.jpg" class="annotatable" />
<img id='imgOne' src="pokerScaled.png" class="annotatable" />
<img id='imgOne' src="starrynightScaled.jpg" class="annotatable" />
<img id='imgOne' src="royalsScaled.jpg" class="annotatable" />
<p id="demo"></p>
<p id="demo2"></p> 
<button type="button" onclick="myFunction()">Print Region Data</button>
<form>
    <input type="text" id="name" name="name">
    <button type="submit" id="submit-btn">
</form>
<hr>
<br>

<script>
//document.getElementById("demo").innerHTML = anno.getAnnotations(); 
</script>

</body> 
</html>